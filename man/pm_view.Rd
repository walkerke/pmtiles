% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pm_view.R
\name{pm_view}
\alias{pm_view}
\title{Quick viewer for PMTiles archives}
\usage{
pm_view(
  input,
  source_layer = NULL,
  style = NULL,
  port = 8080,
  layer_type = c("auto", "fill", "line", "circle"),
  fill_color = "#088",
  fill_opacity = 0.5,
  line_color = "#088",
  line_width = 1,
  circle_color = "#088",
  circle_radius = 5,
  inspect_features = FALSE,
  ...
)
}
\arguments{
\item{input}{Path to a local PMTiles file or URL to a remote archive.}

\item{source_layer}{Name of the source layer to display. If `NULL` (default),
automatically uses the first layer found in the metadata.}

\item{style}{Base map style. Can be a mapgl style function like
`mapgl::openfreemap_style("positron")` or a style name. Default is `"positron"`.}

\item{port}{Port for local server (only used for local files). Default is 8080.}

\item{layer_type}{Type of layer to add: `"fill"`, `"line"`, `"circle"`, or `"auto"`.
Default is `"auto"` which detects based on geometry type.}

\item{fill_color}{Fill color for polygons. Default is `"#088"`.}

\item{fill_opacity}{Fill opacity. Default is 0.5.}

\item{line_color}{Line color. Default is `"#088"`.}

\item{line_width}{Line width. Default is 1.}

\item{circle_color}{Circle color for points. Default is `"#088"`.}

\item{circle_radius}{Circle radius for points. Default is 5.}

\item{inspect_features}{Logical. If `TRUE`, adds hover effects and tooltips showing
feature attributes. Default is `FALSE`.}

\item{...}{Additional arguments passed to the layer function.}
}
\value{
A mapgl map object.
}
\description{
Quickly visualize a PMTiles archive on an interactive map using mapgl.
Automatically detects the tile type and applies appropriate styling.
For local files, automatically starts a background server.
}
\details{
# Local vs Remote Files

**Local files**: If `input` is a local file path, `pm_view()` automatically:
1. Starts a background PMTiles server via `pm_serve()`
2. Extracts metadata to determine source layer and geometry type
3. Creates an appropriate map visualization

The server runs in the background and will be automatically stopped when the
R session ends. You can manually stop it with `pm_stop_server()`.

**Remote files**: If `input` is a URL (starts with `http://` or `https://`),
uses the URL directly without starting a local server.

# Geometry Detection

When `layer_type = "auto"`, the function inspects the metadata to determine
the geometry type and applies appropriate styling:
- Polygon/MultiPolygon → fill layer
- LineString/MultiLineString → line layer
- Point/MultiPoint → circle layer
}
\examples{
\dontrun{
# View a local PMTiles file
pm_view("data.pmtiles")

# Customize the display
pm_view("data.pmtiles",
        fill_color = "#ff0000",
        fill_opacity = 0.7)

# View remote PMTiles
pm_view("https://example.com/tiles.pmtiles")

# Use specific source layer
pm_view("data.pmtiles", source_layer = "buildings")

# Further customize with mapgl
pm_view("data.pmtiles") |>
  mapgl::fit_bounds(c(-122.5, 37.7, -122.3, 37.9))
}

}
